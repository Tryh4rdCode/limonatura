{% extends 'raiz/base.html' %}
{% load static %}

{% block title %}Reporte de Pedidos{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Reporte de Pedidos</h1>
    <p class="lead">Total de Pedidos: <strong>{{ total_pedidos }}</strong></p>

    <h2 class="mt-5">Pedidos por Cliente</h2>
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>Cliente</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            {% for pedido in pedidos_por_cliente %}
            <tr>
                <td>{{ pedido.usuario__username }}</td>
                <td>{{ pedido.total }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2 class="mt-5">Detalles de Pedidos</h2>
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th>Pedido ID</th>
                <th>Producto</th>
                <th>Cantidad</th>
                <th>Precio Unitario</th>
                <th>Precio Total</th>
                <th>Comisi√≥n</th>
                <th>Total Fabricante</th>
            </tr>
        </thead>
        <tbody>
            {% for detalle in detalles %}
            <tr>
                <td>{{ detalle.pedido.id }}</td>
                <td>{{ detalle.producto.nombre }}</td>
                <td>{{ detalle.cantidad }}</td>
                <td>{{ detalle.precio_unitario }}</td>
                <td>{{ detalle.precio }}</td>
                <td>{{ detalle.comision }}</td>
                <td>{{ detalle.total_fabricante }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}